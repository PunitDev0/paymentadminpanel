import{r as o,j as e}from"./app-CoXSuXZg.js";import{a as C,s as v}from"./apis-C3lHX1v6.js";function D({columns:l,data:x}){var b,p,j;const[h,y]=o.useState({}),[c,m]=o.useState(null),[t,i]=o.useState(null),[n,k]=o.useState({}),a=((b=l[0])==null?void 0:b.key)||"id",N=s=>{y(d=>({...d,[s]:!d[s]}))},g=s=>{m(s),C(s[a])},f=()=>{var d,r;const s={rate:t.rate||((d=n[t[a]])==null?void 0:d.rate)||"",type:t.type||((r=n[t[a]])==null?void 0:r.type)||""};v(t[a],s),i(null)};return e.jsxs("div",{className:"max-w-full bg-gray-100 mt-6",children:[e.jsxs("table",{className:"w-full border-collapse border border-gray-300 mt-4",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[l.map(s=>e.jsx("th",{className:"border p-2 text-left",children:s.label},s.key)),e.jsx("th",{className:"border p-2 text-left",children:"Status"}),e.jsx("th",{className:"border p-2 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:x.length>0?x.map((s,d)=>e.jsxs("tr",{className:"border",children:[l.map(r=>e.jsx("td",{className:"p-2 border",children:s[r.key]},r.key)),e.jsx("td",{className:"p-2 border",children:e.jsx("button",{className:`px-4 py-1 rounded-full ${h[s[a]]?"bg-green-500 text-white":"bg-red-500 text-white"}`,onClick:()=>N(s[a]),children:h[s[a]]?"Active":"Inactive"})}),e.jsxs("td",{className:"p-2 border",children:[e.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded mr-2",onClick:()=>g(s),children:"View Details"}),e.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded",onClick:()=>{var r,u;return i({...s,rate:((r=n[s[a]])==null?void 0:r.rate)||"",type:((u=n[s[a]])==null?void 0:u.type)||""})},children:"Edit Details"})]})]},d)):e.jsx("tr",{children:e.jsx("td",{colSpan:l.length+2,className:"text-center p-4",children:"No data available"})})})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-3/4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Commission Details"}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[l.map(s=>e.jsx("th",{className:"border p-2",children:s.label},s.key)),e.jsx("th",{className:"border p-2",children:"Commission Rate"}),e.jsx("th",{className:"border p-2",children:"Commission Type"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[l.map(s=>e.jsx("td",{className:"border p-2",children:c[s.key]},s.key)),e.jsx("td",{className:"border p-2",children:((p=n[c[a]])==null?void 0:p.rate)||"Loading..."}),e.jsx("td",{className:"border p-2",children:((j=n[c[a]])==null?void 0:j.type)||"Loading..."})]})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>m(null),children:"Close"})})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-3/4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"Edit Details"}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[l.map(s=>e.jsx("th",{className:"border p-2",children:s.label},s.key)),e.jsx("th",{className:"border p-2",children:"Commission Rate"}),e.jsx("th",{className:"border p-2",children:"Commission Type"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[l.map(s=>e.jsx("td",{className:"border p-2",children:t[s.key]},s.key)),e.jsx("td",{className:"border p-2",children:e.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:t.rate,onChange:s=>i({...t,rate:s.target.value})})}),e.jsx("td",{className:"border p-2",children:e.jsxs("select",{className:"w-full border p-2 rounded",value:t.type||"",onChange:s=>i({...t,type:s.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Rental",children:"Rental"}),e.jsx("option",{value:"Percentage",children:"Percentage"})]})})]})})]}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:f,children:"Save"}),e.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded ml-2",onClick:()=>i(null),children:"Cancel"})]})]})})]})}export{D as T};
