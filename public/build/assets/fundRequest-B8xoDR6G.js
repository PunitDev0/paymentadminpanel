import{a as W,r as i,j as r,A as S,a4 as Me}from"./app-D8zORXH6.js";import"./index-C0TFN8Fg.js";import{c as K}from"./utils-CiMRq3MP.js";import{T as q,a as ee,b as A,c as j,d as te,e as b}from"./table-CxTSs5r-.js";import{B as ne}from"./button-DjK5dFEN.js";import"./clsx-B-dksMZM.js";import"./index-BIAlreQh.js";const Oe="https://uat.nikatby.in/admin/public";W.defaults.withCredentials=!0;const De=async(e,t)=>await W.put(`${Oe}/api/fund-requests/${e}/status`,{status:t}),ke=async e=>{const t=await W.get("/api/fund-requests");return console.log(t),t.data.fund_requests};function N(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function z(e,t=[]){let n=[];function o(c,l){const u=i.createContext(l),a=n.length;n=[...n,l];const d=f=>{var x;const{scope:v,children:h,...m}=f,g=((x=v==null?void 0:v[e])==null?void 0:x[a])||u,R=i.useMemo(()=>m,Object.values(m));return r.jsx(g.Provider,{value:R,children:h})};d.displayName=c+"Provider";function p(f,v){var g;const h=((g=v==null?void 0:v[e])==null?void 0:g[a])||u,m=i.useContext(h);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[d,p]}const s=()=>{const c=n.map(l=>i.createContext(l));return function(u){const a=(u==null?void 0:u[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...u,[e]:a}}),[u,a])}};return s.scopeName=e,[o,Le(s,...t)]}function Le(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const l=o.reduce((u,{useScope:a,scopeName:d})=>{const f=a(c)[`__scope${d}`];return{...u,...f}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function oe(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Y(...e){return t=>{let n=!1;const o=e.map(s=>{const c=oe(s,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let s=0;s<o.length;s++){const c=o[s];typeof c=="function"?c():oe(e[s],null)}}}}function P(...e){return i.useCallback(Y(...e),e)}var k=i.forwardRef((e,t)=>{const{children:n,...o}=e,s=i.Children.toArray(n),c=s.find($e);if(c){const l=c.props.children,u=s.map(a=>a===c?i.Children.count(l)>1?i.Children.only(null):i.isValidElement(l)?l.props.children:null:a);return r.jsx(L,{...o,ref:t,children:i.isValidElement(l)?i.cloneElement(l,void 0,u):null})}return r.jsx(L,{...o,ref:t,children:n})});k.displayName="Slot";var L=i.forwardRef((e,t)=>{const{children:n,...o}=e;if(i.isValidElement(n)){const s=Ge(n),c=Ue(o,n.props);return n.type!==i.Fragment&&(c.ref=t?Y(t,s):s),i.cloneElement(n,c)}return i.Children.count(n)>1?i.Children.only(null):null});L.displayName="SlotClone";var Ve=({children:e})=>r.jsx(r.Fragment,{children:e});function $e(e){return i.isValidElement(e)&&e.type===Ve}function Ue(e,t){const n={...t};for(const o in t){const s=e[o],c=t[o];/^on[A-Z]/.test(o)?s&&c?n[o]=(...u)=>{c(...u),s(...u)}:s&&(n[o]=s):o==="style"?n[o]={...s,...c}:o==="className"&&(n[o]=[s,c].filter(Boolean).join(" "))}return{...e,...n}}function Ge(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Be(e){const t=e+"CollectionProvider",[n,o]=z(t),[s,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:m,children:g}=h,R=S.useRef(null),x=S.useRef(new Map).current;return r.jsx(s,{scope:m,itemMap:x,collectionRef:R,children:g})};l.displayName=t;const u=e+"CollectionSlot",a=S.forwardRef((h,m)=>{const{scope:g,children:R}=h,x=c(u,g),C=P(m,x.collectionRef);return r.jsx(k,{ref:C,children:R})});a.displayName=u;const d=e+"CollectionItemSlot",p="data-radix-collection-item",f=S.forwardRef((h,m)=>{const{scope:g,children:R,...x}=h,C=S.useRef(null),w=P(m,C),I=c(d,g);return S.useEffect(()=>(I.itemMap.set(C,{ref:C,...x}),()=>void I.itemMap.delete(C))),r.jsx(k,{[p]:"",ref:w,children:R})});f.displayName=d;function v(h){const m=c(e+"CollectionConsumer",h);return S.useCallback(()=>{const R=m.collectionRef.current;if(!R)return[];const x=Array.from(R.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((I,_)=>x.indexOf(I.ref.current)-x.indexOf(_.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:l,Slot:a,ItemSlot:f},v,o]}var V=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},We=Me.useId||(()=>{}),Ke=0;function re(e){const[t,n]=i.useState(We());return V(()=>{n(o=>o??String(Ke++))},[e]),e||(t?`radix-${t}`:"")}var se=i.forwardRef((e,t)=>{const{children:n,...o}=e,s=i.Children.toArray(n),c=s.find(Ye);if(c){const l=c.props.children,u=s.map(a=>a===c?i.Children.count(l)>1?i.Children.only(null):i.isValidElement(l)?l.props.children:null:a);return r.jsx($,{...o,ref:t,children:i.isValidElement(l)?i.cloneElement(l,void 0,u):null})}return r.jsx($,{...o,ref:t,children:n})});se.displayName="Slot";var $=i.forwardRef((e,t)=>{const{children:n,...o}=e;if(i.isValidElement(n)){const s=He(n),c=Ze(o,n.props);return n.type!==i.Fragment&&(c.ref=t?Y(t,s):s),i.cloneElement(n,c)}return i.Children.count(n)>1?i.Children.only(null):null});$.displayName="SlotClone";var ze=({children:e})=>r.jsx(r.Fragment,{children:e});function Ye(e){return i.isValidElement(e)&&e.type===ze}function Ze(e,t){const n={...t};for(const o in t){const s=e[o],c=t[o];/^on[A-Z]/.test(o)?s&&c?n[o]=(...u)=>{c(...u),s(...u)}:s&&(n[o]=s):o==="style"?n[o]={...s,...c}:o==="className"&&(n[o]=[s,c].filter(Boolean).join(" "))}return{...e,...n}}function He(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Je=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],E=Je.reduce((e,t)=>{const n=i.forwardRef((o,s)=>{const{asChild:c,...l}=o,u=c?se:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Z(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function ie({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,s]=Qe({defaultProp:t,onChange:n}),c=e!==void 0,l=c?e:o,u=Z(n),a=i.useCallback(d=>{if(c){const f=typeof d=="function"?d(e):d;f!==e&&u(f)}else s(d)},[c,e,s,u]);return[l,a]}function Qe({defaultProp:e,onChange:t}){const n=i.useState(e),[o]=n,s=i.useRef(o),c=Z(t);return i.useEffect(()=>{s.current!==o&&(c(o),s.current=o)},[o,s,c]),n}var Xe=i.createContext(void 0);function ae(e){const t=i.useContext(Xe);return e||t||"ltr"}var D="rovingFocusGroup.onEntryFocus",qe={bubbles:!1,cancelable:!0},M="RovingFocusGroup",[U,ce,et]=Be(M),[tt,le]=z(M,[et]),[nt,ot]=tt(M),ue=i.forwardRef((e,t)=>r.jsx(U.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(U.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(rt,{...e,ref:t})})}));ue.displayName=M;var rt=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:s=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:a,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...f}=e,v=i.useRef(null),h=P(t,v),m=ae(c),[g=null,R]=ie({prop:l,defaultProp:u,onChange:a}),[x,C]=i.useState(!1),w=Z(d),I=ce(n),_=i.useRef(!1),[Ae,Q]=i.useState(0);return i.useEffect(()=>{const y=v.current;if(y)return y.addEventListener(D,w),()=>y.removeEventListener(D,w)},[w]),r.jsx(nt,{scope:n,orientation:o,dir:m,loop:s,currentTabStopId:g,onItemFocus:i.useCallback(y=>R(y),[R]),onItemShiftTab:i.useCallback(()=>C(!0),[]),onFocusableItemAdd:i.useCallback(()=>Q(y=>y+1),[]),onFocusableItemRemove:i.useCallback(()=>Q(y=>y-1),[]),children:r.jsx(E.div,{tabIndex:x||Ae===0?-1:0,"data-orientation":o,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:N(e.onMouseDown,()=>{_.current=!0}),onFocus:N(e.onFocus,y=>{const Ee=!_.current;if(y.target===y.currentTarget&&Ee&&!x){const X=new CustomEvent(D,qe);if(y.currentTarget.dispatchEvent(X),!X.defaultPrevented){const O=I().filter(T=>T.focusable),_e=O.find(T=>T.active),Fe=O.find(T=>T.id===g),Pe=[_e,Fe,...O].filter(Boolean).map(T=>T.ref.current);me(Pe,p)}}_.current=!1}),onBlur:N(e.onBlur,()=>C(!1))})})}),de="RovingFocusGroupItem",fe=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:s=!1,tabStopId:c,...l}=e,u=re(),a=c||u,d=ot(de,n),p=d.currentTabStopId===a,f=ce(n),{onFocusableItemAdd:v,onFocusableItemRemove:h}=d;return i.useEffect(()=>{if(o)return v(),()=>h()},[o,v,h]),r.jsx(U.ItemSlot,{scope:n,id:a,focusable:o,active:s,children:r.jsx(E.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:N(e.onMouseDown,m=>{o?d.onItemFocus(a):m.preventDefault()}),onFocus:N(e.onFocus,()=>d.onItemFocus(a)),onKeyDown:N(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=at(m,d.orientation,d.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let x=f().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const C=x.indexOf(m.currentTarget);x=d.loop?ct(x,C+1):x.slice(C+1)}setTimeout(()=>me(x))}})})})});fe.displayName=de;var st={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function it(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function at(e,t,n){const o=it(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return st[o]}function me(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function ct(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var lt=ue,ut=fe;function dt(e,t){return i.useReducer((n,o)=>t[n][o]??n,e)}var pe=e=>{const{present:t,children:n}=e,o=ft(t),s=typeof n=="function"?n({present:o.isPresent}):i.Children.only(n),c=P(o.ref,mt(s));return typeof n=="function"||o.isPresent?i.cloneElement(s,{ref:c}):null};pe.displayName="Presence";function ft(e){const[t,n]=i.useState(),o=i.useRef({}),s=i.useRef(e),c=i.useRef("none"),l=e?"mounted":"unmounted",[u,a]=dt(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const d=F(o.current);c.current=u==="mounted"?d:"none"},[u]),V(()=>{const d=o.current,p=s.current;if(p!==e){const v=c.current,h=F(d);e?a("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?a("UNMOUNT"):a(p&&v!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,a]),V(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,f=h=>{const g=F(o.current).includes(h.animationName);if(h.target===t&&g&&(a("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},v=h=>{h.target===t&&(c.current=F(o.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:i.useCallback(d=>{d&&(o.current=getComputedStyle(d)),n(d)},[])}}function F(e){return(e==null?void 0:e.animationName)||"none"}function mt(e){var o,s;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var H="Tabs",[pt,wt]=z(H,[le]),ve=le(),[vt,J]=pt(H),he=i.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:s,defaultValue:c,orientation:l="horizontal",dir:u,activationMode:a="automatic",...d}=e,p=ae(u),[f,v]=ie({prop:o,onChange:s,defaultProp:c});return r.jsx(vt,{scope:n,baseId:re(),value:f,onValueChange:v,orientation:l,dir:p,activationMode:a,children:r.jsx(E.div,{dir:p,"data-orientation":l,...d,ref:t})})});he.displayName=H;var ge="TabsList",xe=i.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...s}=e,c=J(ge,n),l=ve(n);return r.jsx(lt,{asChild:!0,...l,orientation:c.orientation,dir:c.dir,loop:o,children:r.jsx(E.div,{role:"tablist","aria-orientation":c.orientation,...s,ref:t})})});xe.displayName=ge;var be="TabsTrigger",Ce=i.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:s=!1,...c}=e,l=J(be,n),u=ve(n),a=ye(l.baseId,o),d=Ne(l.baseId,o),p=o===l.value;return r.jsx(ut,{asChild:!0,...u,focusable:!s,active:p,children:r.jsx(E.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:a,...c,ref:t,onMouseDown:N(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?l.onValueChange(o):f.preventDefault()}),onKeyDown:N(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(o)}),onFocus:N(e.onFocus,()=>{const f=l.activationMode!=="manual";!p&&!s&&f&&l.onValueChange(o)})})})});Ce.displayName=be;var Re="TabsContent",je=i.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:s,children:c,...l}=e,u=J(Re,n),a=ye(u.baseId,o),d=Ne(u.baseId,o),p=o===u.value,f=i.useRef(p);return i.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),r.jsx(pe,{present:s||p,children:({present:v})=>r.jsx(E.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":a,hidden:!v,id:d,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:v&&c})})});je.displayName=Re;function ye(e,t){return`${e}-trigger-${t}`}function Ne(e,t){return`${e}-content-${t}`}var ht=he,Te=xe,Se=Ce,we=je;const gt=ht,Ie=i.forwardRef(({className:e,...t},n)=>r.jsx(Te,{ref:n,className:K("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Ie.displayName=Te.displayName;const G=i.forwardRef(({className:e,...t},n)=>r.jsx(Se,{ref:n,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));G.displayName=Se.displayName;const B=i.forwardRef(({className:e,...t},n)=>r.jsx(we,{ref:n,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));B.displayName=we.displayName;function xt(){const[e,t]=i.useState([]),[n,o]=i.useState("inactive");i.useEffect(()=>{s()},[]);const s=async()=>{try{const a=await ke();t(Array.isArray(a)?a:[])}catch(a){console.error("Failed to fetch fund requests:",a),t([])}},c=async(a,d)=>{try{await De(a,d===0?1:0),s()}catch(p){console.error("Error switching status:",p)}},l=e.filter(a=>a.status===0),u=e.filter(a=>a.status===1);return r.jsxs("div",{className:"p-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:"Fund Request Dashboard"}),r.jsxs(gt,{value:n,onValueChange:o,defaultValue:"inactive",className:"w-full",children:[r.jsxs(Ie,{className:"grid w-full grid-cols-2",children:[r.jsx(G,{value:"inactive",children:"Inactive Requests"}),r.jsx(G,{value:"active",children:"Active Requests"})]}),r.jsx(B,{value:"inactive",children:r.jsxs(q,{children:[r.jsx(ee,{children:r.jsxs(A,{children:[r.jsx(j,{children:"Transaction Type"}),r.jsx(j,{children:"Amount"}),r.jsx(j,{children:"Transaction ID"}),r.jsx(j,{children:"Deposited Date"}),r.jsx(j,{children:"Bank Account"}),r.jsx(j,{children:"Status"}),r.jsx(j,{children:"Image"}),r.jsx(j,{children:"Actions"})]})}),r.jsx(te,{children:l.length>0?l.map(a=>r.jsxs(A,{children:[r.jsx(b,{children:a.transaction_type}),r.jsx(b,{children:a.amount}),r.jsx(b,{children:a.transaction_id}),r.jsx(b,{children:a.deposited_date}),r.jsx(b,{children:a.bank?a.bank.bank:"N/A"}),r.jsx(b,{children:a.status===0?"Inactive":"Active"}),r.jsx(b,{children:a.image_path?r.jsx("a",{href:a.image_path,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View"}):"N/A"}),r.jsx(b,{children:r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>c(a.id,a.status),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Switch to Active"})})]},a.id)):r.jsx(A,{children:r.jsx(b,{colSpan:8,className:"text-center",children:"No inactive requests found"})})})]})}),r.jsx(B,{value:"active",children:r.jsxs(q,{children:[r.jsx(ee,{children:r.jsxs(A,{children:[r.jsx(j,{children:"Transaction Type"}),r.jsx(j,{children:"Amount"}),r.jsx(j,{children:"Transaction ID"}),r.jsx(j,{children:"Deposited Date"}),r.jsx(j,{children:"Bank Account"}),r.jsx(j,{children:"Status"}),r.jsx(j,{children:"Image"}),r.jsx(j,{children:"Actions"})]})}),r.jsx(te,{children:u.length>0?u.map(a=>r.jsxs(A,{children:[r.jsx(b,{children:a.transaction_type}),r.jsx(b,{children:a.amount}),r.jsx(b,{children:a.transaction_id}),r.jsx(b,{children:a.deposited_date}),r.jsx(b,{children:a.bank?a.bank.bank:"N/A"}),r.jsx(b,{children:a.status===0?"Inactive":"Active"}),r.jsx(b,{children:a.image_path?r.jsx("a",{href:a.image_path,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View"}):"N/A"}),r.jsx(b,{children:r.jsx(ne,{variant:"outline",size:"sm",onClick:()=>c(a.id,a.status),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Switch to Inactive"})})]},a.id)):r.jsx(A,{children:r.jsx(b,{colSpan:8,className:"text-center",children:"No active requests found"})})})]})})]})]})}function It(){return r.jsx("div",{children:r.jsx(xt,{})})}export{It as default};
