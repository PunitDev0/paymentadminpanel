import{a0 as Ae,a as z,r as a,j as n,T as y,a1 as _e}from"./app-BcofZaOx.js";import{u as P,S as L,c as w,B as H}from"./button-BYHQzb-D.js";import"./clsx-B-dksMZM.js";Ae();const Ee="https://uat.nikatby.in/admin/public";z.defaults.withCredentials=!0;const Fe=async(e,t)=>await z.put(`${Ee}/api/fund-requests/${e}/status`,{status:t}),Me=async e=>{const t=await z.get("/api/fund-requests");return console.log(t),t.data.fund_requests};function C(e,t,{checkForDefaultPrevented:o=!0}={}){return function(i){if(e==null||e(i),o===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Y(e,t=[]){let o=[];function s(u,l){const d=a.createContext(l),r=o.length;o=[...o,l];const c=f=>{var h;const{scope:v,children:x,...m}=f,b=((h=v==null?void 0:v[e])==null?void 0:h[r])||d,R=a.useMemo(()=>m,Object.values(m));return n.jsx(b.Provider,{value:R,children:x})};c.displayName=u+"Provider";function p(f,v){var b;const x=((b=v==null?void 0:v[e])==null?void 0:b[r])||d,m=a.useContext(x);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${u}\``)}return[c,p]}const i=()=>{const u=o.map(l=>a.createContext(l));return function(d){const r=(d==null?void 0:d[e])||u;return a.useMemo(()=>({[`__scope${e}`]:{...d,[e]:r}}),[d,r])}};return i.scopeName=e,[s,Pe(i,...t)]}function Pe(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const l=s.reduce((d,{useScope:r,scopeName:c})=>{const f=r(u)[`__scope${c}`];return{...d,...f}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return o.scopeName=t.scopeName,o}function De(e){const t=e+"CollectionProvider",[o,s]=Y(t),[i,u]=o(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:m,children:b}=x,R=y.useRef(null),h=y.useRef(new Map).current;return n.jsx(i,{scope:m,itemMap:h,collectionRef:R,children:b})};l.displayName=t;const d=e+"CollectionSlot",r=y.forwardRef((x,m)=>{const{scope:b,children:R}=x,h=u(d,b),N=P(m,h.collectionRef);return n.jsx(L,{ref:N,children:R})});r.displayName=d;const c=e+"CollectionItemSlot",p="data-radix-collection-item",f=y.forwardRef((x,m)=>{const{scope:b,children:R,...h}=x,N=y.useRef(null),A=P(m,N),_=u(c,b);return y.useEffect(()=>(_.itemMap.set(N,{ref:N,...h}),()=>void _.itemMap.delete(N))),n.jsx(L,{[p]:"",ref:A,children:R})});f.displayName=c;function v(x){const m=u(e+"CollectionConsumer",x);return y.useCallback(()=>{const R=m.collectionRef.current;if(!R)return[];const h=Array.from(R.querySelectorAll(`[${p}]`));return Array.from(m.itemMap.values()).sort((_,F)=>h.indexOf(_.ref.current)-h.indexOf(F.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:l,Slot:r,ItemSlot:f},v,s]}var U=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{},Oe=_e.useId||(()=>{}),ke=0;function ee(e){const[t,o]=a.useState(Oe());return U(()=>{o(s=>s??String(ke++))},[e]),e||(t?`radix-${t}`:"")}var Le=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],E=Le.reduce((e,t)=>{const o=a.forwardRef((s,i)=>{const{asChild:u,...l}=s,d=u?L:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:i})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function J(e){const t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...o)=>{var s;return(s=t.current)==null?void 0:s.call(t,...o)},[])}function te({prop:e,defaultProp:t,onChange:o=()=>{}}){const[s,i]=Ue({defaultProp:t,onChange:o}),u=e!==void 0,l=u?e:s,d=J(o),r=a.useCallback(c=>{if(u){const f=typeof c=="function"?c(e):c;f!==e&&d(f)}else i(c)},[u,e,i,d]);return[l,r]}function Ue({defaultProp:e,onChange:t}){const o=a.useState(e),[s]=o,i=a.useRef(s),u=J(t);return a.useEffect(()=>{i.current!==s&&(u(s),i.current=s)},[s,i,u]),o}var Ge=a.createContext(void 0);function ne(e){const t=a.useContext(Ge);return e||t||"ltr"}var k="rovingFocusGroup.onEntryFocus",$e={bubbles:!1,cancelable:!0},D="RovingFocusGroup",[G,oe,Be]=De(D),[Ve,re]=Y(D,[Be]),[Ke,We]=Ve(D),se=a.forwardRef((e,t)=>n.jsx(G.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(G.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(ze,{...e,ref:t})})}));se.displayName=D;var ze=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:s,loop:i=!1,dir:u,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:r,onEntryFocus:c,preventScrollOnEntryFocus:p=!1,...f}=e,v=a.useRef(null),x=P(t,v),m=ne(u),[b=null,R]=te({prop:l,defaultProp:d,onChange:r}),[h,N]=a.useState(!1),A=J(c),_=oe(o),F=a.useRef(!1),[we,Z]=a.useState(0);return a.useEffect(()=>{const j=v.current;if(j)return j.addEventListener(k,A),()=>j.removeEventListener(k,A)},[A]),n.jsx(Ke,{scope:o,orientation:s,dir:m,loop:i,currentTabStopId:b,onItemFocus:a.useCallback(j=>R(j),[R]),onItemShiftTab:a.useCallback(()=>N(!0),[]),onFocusableItemAdd:a.useCallback(()=>Z(j=>j+1),[]),onFocusableItemRemove:a.useCallback(()=>Z(j=>j-1),[]),children:n.jsx(E.div,{tabIndex:h||we===0?-1:0,"data-orientation":s,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:C(e.onMouseDown,()=>{F.current=!0}),onFocus:C(e.onFocus,j=>{const Ce=!F.current;if(j.target===j.currentTarget&&Ce&&!h){const q=new CustomEvent(k,$e);if(j.currentTarget.dispatchEvent(q),!q.defaultPrevented){const O=_().filter(I=>I.focusable),Ie=O.find(I=>I.active),ye=O.find(I=>I.id===b),Se=[Ie,ye,...O].filter(Boolean).map(I=>I.ref.current);ce(Se,p)}}F.current=!1}),onBlur:C(e.onBlur,()=>N(!1))})})}),ae="RovingFocusGroupItem",ie=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:s=!0,active:i=!1,tabStopId:u,...l}=e,d=ee(),r=u||d,c=We(ae,o),p=c.currentTabStopId===r,f=oe(o),{onFocusableItemAdd:v,onFocusableItemRemove:x}=c;return a.useEffect(()=>{if(s)return v(),()=>x()},[s,v,x]),n.jsx(G.ItemSlot,{scope:o,id:r,focusable:s,active:i,children:n.jsx(E.span,{tabIndex:p?0:-1,"data-orientation":c.orientation,...l,ref:t,onMouseDown:C(e.onMouseDown,m=>{s?c.onItemFocus(r):m.preventDefault()}),onFocus:C(e.onFocus,()=>c.onItemFocus(r)),onKeyDown:C(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const b=Qe(m,c.orientation,c.dir);if(b!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let h=f().filter(N=>N.focusable).map(N=>N.ref.current);if(b==="last")h.reverse();else if(b==="prev"||b==="next"){b==="prev"&&h.reverse();const N=h.indexOf(m.currentTarget);h=c.loop?Xe(h,N+1):h.slice(N+1)}setTimeout(()=>ce(h))}})})})});ie.displayName=ae;var Ye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Je(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Qe(e,t,o){const s=Je(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Ye[s]}function ce(e,t=!1){const o=document.activeElement;for(const s of e)if(s===o||(s.focus({preventScroll:t}),document.activeElement!==o))return}function Xe(e,t){return e.map((o,s)=>e[(t+s)%e.length])}var Ze=se,qe=ie;function He(e,t){return a.useReducer((o,s)=>t[o][s]??o,e)}var ue=e=>{const{present:t,children:o}=e,s=et(t),i=typeof o=="function"?o({present:s.isPresent}):a.Children.only(o),u=P(s.ref,tt(i));return typeof o=="function"||s.isPresent?a.cloneElement(i,{ref:u}):null};ue.displayName="Presence";function et(e){const[t,o]=a.useState(),s=a.useRef({}),i=a.useRef(e),u=a.useRef("none"),l=e?"mounted":"unmounted",[d,r]=He(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const c=M(s.current);u.current=d==="mounted"?c:"none"},[d]),U(()=>{const c=s.current,p=i.current;if(p!==e){const v=u.current,x=M(c);e?r("MOUNT"):x==="none"||(c==null?void 0:c.display)==="none"?r("UNMOUNT"):r(p&&v!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,r]),U(()=>{if(t){let c;const p=t.ownerDocument.defaultView??window,f=x=>{const b=M(s.current).includes(x.animationName);if(x.target===t&&b&&(r("ANIMATION_END"),!i.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",c=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},v=x=>{x.target===t&&(u.current=M(s.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{p.clearTimeout(c),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else r("ANIMATION_END")},[t,r]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(c=>{c&&(s.current=getComputedStyle(c)),o(c)},[])}}function M(e){return(e==null?void 0:e.animationName)||"none"}function tt(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var Q="Tabs",[nt,mt]=Y(Q,[re]),le=re(),[ot,X]=nt(Q),de=a.forwardRef((e,t)=>{const{__scopeTabs:o,value:s,onValueChange:i,defaultValue:u,orientation:l="horizontal",dir:d,activationMode:r="automatic",...c}=e,p=ne(d),[f,v]=te({prop:s,onChange:i,defaultProp:u});return n.jsx(ot,{scope:o,baseId:ee(),value:f,onValueChange:v,orientation:l,dir:p,activationMode:r,children:n.jsx(E.div,{dir:p,"data-orientation":l,...c,ref:t})})});de.displayName=Q;var fe="TabsList",me=a.forwardRef((e,t)=>{const{__scopeTabs:o,loop:s=!0,...i}=e,u=X(fe,o),l=le(o);return n.jsx(Ze,{asChild:!0,...l,orientation:u.orientation,dir:u.dir,loop:s,children:n.jsx(E.div,{role:"tablist","aria-orientation":u.orientation,...i,ref:t})})});me.displayName=fe;var pe="TabsTrigger",ve=a.forwardRef((e,t)=>{const{__scopeTabs:o,value:s,disabled:i=!1,...u}=e,l=X(pe,o),d=le(o),r=he(l.baseId,s),c=ge(l.baseId,s),p=s===l.value;return n.jsx(qe,{asChild:!0,...d,focusable:!i,active:p,children:n.jsx(E.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":c,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:r,...u,ref:t,onMouseDown:C(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?l.onValueChange(s):f.preventDefault()}),onKeyDown:C(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(s)}),onFocus:C(e.onFocus,()=>{const f=l.activationMode!=="manual";!p&&!i&&f&&l.onValueChange(s)})})})});ve.displayName=pe;var xe="TabsContent",be=a.forwardRef((e,t)=>{const{__scopeTabs:o,value:s,forceMount:i,children:u,...l}=e,d=X(xe,o),r=he(d.baseId,s),c=ge(d.baseId,s),p=s===d.value,f=a.useRef(p);return a.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),n.jsx(ue,{present:i||p,children:({present:v})=>n.jsx(E.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":r,hidden:!v,id:c,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:v&&u})})});be.displayName=xe;function he(e,t){return`${e}-trigger-${t}`}function ge(e,t){return`${e}-content-${t}`}var rt=de,Ne=me,Te=ve,Re=be;const st=rt,je=a.forwardRef(({className:e,...t},o)=>n.jsx(Ne,{ref:o,className:w("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));je.displayName=Ne.displayName;const $=a.forwardRef(({className:e,...t},o)=>n.jsx(Te,{ref:o,className:w("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));$.displayName=Te.displayName;const B=a.forwardRef(({className:e,...t},o)=>n.jsx(Re,{ref:o,className:w("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));B.displayName=Re.displayName;const V=a.forwardRef(({className:e,...t},o)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:o,className:w("w-full caption-bottom text-sm",e),...t})}));V.displayName="Table";const K=a.forwardRef(({className:e,...t},o)=>n.jsx("thead",{ref:o,className:w("[&_tr]:border-b",e),...t}));K.displayName="TableHeader";const W=a.forwardRef(({className:e,...t},o)=>n.jsx("tbody",{ref:o,className:w("[&_tr:last-child]:border-0",e),...t}));W.displayName="TableBody";const at=a.forwardRef(({className:e,...t},o)=>n.jsx("tfoot",{ref:o,className:w("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));at.displayName="TableFooter";const S=a.forwardRef(({className:e,...t},o)=>n.jsx("tr",{ref:o,className:w("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));S.displayName="TableRow";const T=a.forwardRef(({className:e,...t},o)=>n.jsx("th",{ref:o,className:w("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));T.displayName="TableHead";const g=a.forwardRef(({className:e,...t},o)=>n.jsx("td",{ref:o,className:w("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));g.displayName="TableCell";const it=a.forwardRef(({className:e,...t},o)=>n.jsx("caption",{ref:o,className:w("mt-4 text-sm text-muted-foreground",e),...t}));it.displayName="TableCaption";function ct(){const[e,t]=a.useState([]),[o,s]=a.useState("inactive");a.useEffect(()=>{i()},[]);const i=async()=>{try{const r=await Me();t(Array.isArray(r)?r:[])}catch(r){console.error("Failed to fetch fund requests:",r),t([])}},u=async(r,c)=>{try{await Fe(r,c===0?1:0),i()}catch(p){console.error("Error switching status:",p)}},l=e.filter(r=>r.status===0),d=e.filter(r=>r.status===1);return n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:"Fund Request Dashboard"}),n.jsxs(st,{value:o,onValueChange:s,defaultValue:"inactive",className:"w-full",children:[n.jsxs(je,{className:"grid w-full grid-cols-2",children:[n.jsx($,{value:"inactive",children:"Inactive Requests"}),n.jsx($,{value:"active",children:"Active Requests"})]}),n.jsx(B,{value:"inactive",children:n.jsxs(V,{children:[n.jsx(K,{children:n.jsxs(S,{children:[n.jsx(T,{children:"Transaction Type"}),n.jsx(T,{children:"Amount"}),n.jsx(T,{children:"Transaction ID"}),n.jsx(T,{children:"Deposited Date"}),n.jsx(T,{children:"Bank Account"}),n.jsx(T,{children:"Status"}),n.jsx(T,{children:"Image"}),n.jsx(T,{children:"Actions"})]})}),n.jsx(W,{children:l.length>0?l.map(r=>n.jsxs(S,{children:[n.jsx(g,{children:r.transaction_type}),n.jsx(g,{children:r.amount}),n.jsx(g,{children:r.transaction_id}),n.jsx(g,{children:r.deposited_date}),n.jsx(g,{children:r.bank?r.bank.bank:"N/A"}),n.jsx(g,{children:r.status===0?"Inactive":"Active"}),n.jsx(g,{children:r.image_path?n.jsx("a",{href:r.image_path,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View"}):"N/A"}),n.jsx(g,{children:n.jsx(H,{variant:"outline",size:"sm",onClick:()=>u(r.id,r.status),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Switch to Active"})})]},r.id)):n.jsx(S,{children:n.jsx(g,{colSpan:8,className:"text-center",children:"No inactive requests found"})})})]})}),n.jsx(B,{value:"active",children:n.jsxs(V,{children:[n.jsx(K,{children:n.jsxs(S,{children:[n.jsx(T,{children:"Transaction Type"}),n.jsx(T,{children:"Amount"}),n.jsx(T,{children:"Transaction ID"}),n.jsx(T,{children:"Deposited Date"}),n.jsx(T,{children:"Bank Account"}),n.jsx(T,{children:"Status"}),n.jsx(T,{children:"Image"}),n.jsx(T,{children:"Actions"})]})}),n.jsx(W,{children:d.length>0?d.map(r=>n.jsxs(S,{children:[n.jsx(g,{children:r.transaction_type}),n.jsx(g,{children:r.amount}),n.jsx(g,{children:r.transaction_id}),n.jsx(g,{children:r.deposited_date}),n.jsx(g,{children:r.bank?r.bank.bank:"N/A"}),n.jsx(g,{children:r.status===0?"Inactive":"Active"}),n.jsx(g,{children:r.image_path?n.jsx("a",{href:r.image_path,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View"}):"N/A"}),n.jsx(g,{children:n.jsx(H,{variant:"outline",size:"sm",onClick:()=>u(r.id,r.status),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Switch to Inactive"})})]},r.id)):n.jsx(S,{children:n.jsx(g,{colSpan:8,className:"text-center",children:"No active requests found"})})})]})})]})]})}function pt(){return n.jsx("div",{children:n.jsx(ct,{})})}export{pt as default};
