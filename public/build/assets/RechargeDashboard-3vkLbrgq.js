import{c as F,U as A,r as q,j as e}from"./app-CoXSuXZg.js";import{O as ye,R as ge}from"./apis-C3lHX1v6.js";import{i as ve,c as ne,D as be,f as je,E as we,L as H,a as z,C as Ne,A as Ae,b as M,d as Se,e as te,h as ke,g as _e,j as ue,u as De,G as Pe,k as se,l as Oe,X as U,Y as G,m as Te,B as ie,R as X,n as Z,T as J,o as Q,p as Ee}from"./BarChart-is1I3uEn.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ee=F("ArrowDown",Le);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],V=F("ArrowUp",Ce);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fe=F("Calendar",Re);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ie=F("DollarSign",$e);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],We=F("Filter",Be);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ke=F("Phone",Me);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ve=F("Zap",ze);var qe=["type","layout","connectNulls","ref"],Ue=["key"];function I(r){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},I(r)}function oe(r,a){if(r==null)return{};var n=Ge(r,a),t,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(s=0;s<c.length;s++)t=c[s],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}function Ge(r,a){if(r==null)return{};var n={};for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(a.indexOf(t)>=0)continue;n[t]=r[t]}return n}function K(){return K=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},K.apply(this,arguments)}function le(r,a){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.push.apply(n,t)}return n}function S(r){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?le(Object(n),!0).forEach(function(t){P(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function $(r){return Ze(r)||Xe(r)||He(r)||Ye()}function Ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function He(r,a){if(r){if(typeof r=="string")return re(r,a);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(r,a)}}function Xe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ze(r){if(Array.isArray(r))return re(r)}function re(r,a){(a==null||a>r.length)&&(a=r.length);for(var n=0,t=new Array(a);n<a;n++)t[n]=r[n];return t}function Je(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function ce(r,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,me(t.key),t)}}function Qe(r,a,n){return a&&ce(r.prototype,a),n&&ce(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function et(r,a,n){return a=Y(a),tt(r,he()?Reflect.construct(a,n||[],Y(r).constructor):a.apply(r,n))}function tt(r,a){if(a&&(I(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(r)}function rt(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function he(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(he=function(){return!!r})()}function Y(r){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y(r)}function at(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),a&&ae(r,a)}function ae(r,a){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},ae(r,a)}function P(r,a,n){return a=me(a),a in r?Object.defineProperty(r,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[a]=n,r}function me(r){var a=nt(r,"string");return I(a)=="symbol"?a:a+""}function nt(r,a){if(I(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var t=n.call(r,a);if(I(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var B=function(r){function a(){var n;Je(this,a);for(var t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return n=et(this,a,[].concat(s)),P(n,"state",{isAnimationFinished:!0,totalLength:0}),P(n,"generateSimpleStrokeDasharray",function(i,o){return"".concat(o,"px ").concat(i-o,"px")}),P(n,"getStrokeDasharray",function(i,o,d){var h=d.reduce(function(w,O){return w+O});if(!h)return n.generateSimpleStrokeDasharray(o,i);for(var y=Math.floor(i/h),x=i%h,m=o-i,g=[],u=0,v=0;u<d.length;v+=d[u],++u)if(v+d[u]>x){g=[].concat($(d.slice(0,u)),[x-v]);break}var j=g.length%2===0?[0,m]:[m];return[].concat($(a.repeat(d,y)),$(g),j).map(function(w){return"".concat(w,"px")}).join(", ")}),P(n,"id",De("recharts-line-")),P(n,"pathRef",function(i){n.mainCurve=i}),P(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),P(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return at(a,r),Qe(a,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();this.setState({totalLength:t})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();t!==this.state.totalLength&&this.setState({totalLength:t})}}},{key:"getTotalLength",value:function(){var t=this.mainCurve;try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(t,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,i=c.points,o=c.xAxis,d=c.yAxis,h=c.layout,y=c.children,x=je(y,we);if(!x)return null;var m=function(v,j){return{x:v.x,y:v.y,value:v.value,errorVal:ue(v.payload,j)}},g={clipPath:t?"url(#clipPath-".concat(s,")"):null};return A.createElement(H,g,x.map(function(u){return A.cloneElement(u,{key:"bar-".concat(u.props.dataKey),data:i,xAxis:o,yAxis:d,layout:h,dataPointFormatter:m})}))}},{key:"renderDots",value:function(t,s,c){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,d=o.dot,h=o.points,y=o.dataKey,x=z(this.props,!1),m=z(d,!0),g=h.map(function(v,j){var w=S(S(S({key:"dot-".concat(j),r:3},x),m),{},{value:v.value,dataKey:y,cx:v.x,cy:v.y,index:j,payload:v.payload});return a.renderDotItem(d,w)}),u={clipPath:t?"url(#clipPath-".concat(s?"":"dots-").concat(c,")"):null};return A.createElement(H,K({className:"recharts-line-dots",key:"dots"},u),g)}},{key:"renderCurveStatically",value:function(t,s,c,i){var o=this.props,d=o.type,h=o.layout,y=o.connectNulls;o.ref;var x=oe(o,qe),m=S(S(S({},z(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(c,")"):null,points:t},i),{},{type:d,layout:h,connectNulls:y});return A.createElement(Ne,K({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,s){var c=this,i=this.props,o=i.points,d=i.strokeDasharray,h=i.isAnimationActive,y=i.animationBegin,x=i.animationDuration,m=i.animationEasing,g=i.animationId,u=i.animateNewValues,v=i.width,j=i.height,w=this.state,O=w.prevPoints,T=w.totalLength;return A.createElement(Ae,{begin:y,duration:x,isActive:h,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(l){var f=l.t;if(O){var p=O.length/o.length,k=o.map(function(b,W){var C=Math.floor(W*p);if(O[C]){var _=O[C],D=M(_.x,b.x),pe=M(_.y,b.y);return S(S({},b),{},{x:D(f),y:pe(f)})}if(u){var xe=M(v*2,b.x),fe=M(j/2,b.y);return S(S({},b),{},{x:xe(f),y:fe(f)})}return S(S({},b),{},{x:b.x,y:b.y})});return c.renderCurveStatically(k,t,s)}var N=M(0,T),L=N(f),R;if(d){var E="".concat(d).split(/[,\s]+/gim).map(function(b){return parseFloat(b)});R=c.getStrokeDasharray(L,T,E)}else R=c.generateSimpleStrokeDasharray(T,L);return c.renderCurveStatically(o,t,s,{strokeDasharray:R})})}},{key:"renderCurve",value:function(t,s){var c=this.props,i=c.points,o=c.isAnimationActive,d=this.state,h=d.prevPoints,y=d.totalLength;return o&&i&&i.length&&(!h&&y>0||!Se(h,i))?this.renderCurveWithAnimation(t,s):this.renderCurveStatically(i,t,s)}},{key:"render",value:function(){var t,s=this.props,c=s.hide,i=s.dot,o=s.points,d=s.className,h=s.xAxis,y=s.yAxis,x=s.top,m=s.left,g=s.width,u=s.height,v=s.isAnimationActive,j=s.id;if(c||!o||!o.length)return null;var w=this.state.isAnimationFinished,O=o.length===1,T=ne("recharts-line",d),l=h&&h.allowDataOverflow,f=y&&y.allowDataOverflow,p=l||f,k=te(j)?this.id:j,N=(t=z(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},L=N.r,R=L===void 0?3:L,E=N.strokeWidth,b=E===void 0?2:E,W=ke(i)?i:{},C=W.clipDot,_=C===void 0?!0:C,D=R*2+b;return A.createElement(H,{className:T},l||f?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(k)},A.createElement("rect",{x:l?m:m-g/2,y:f?x:x-u/2,width:l?g:g*2,height:f?u:u*2})),!_&&A.createElement("clipPath",{id:"clipPath-dots-".concat(k)},A.createElement("rect",{x:m-D/2,y:x-D/2,width:g+D,height:u+D}))):null,!O&&this.renderCurve(p,k),this.renderErrorBar(p,k),(O||i)&&this.renderDots(p,_,k),(!v||w)&&_e.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(t,s){return t.animationId!==s.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:s.curPoints}:t.points!==s.curPoints?{curPoints:t.points}:null}},{key:"repeat",value:function(t,s){for(var c=t.length%2!==0?[].concat($(t),[0]):t,i=[],o=0;o<s;++o)i=[].concat($(i),$(c));return i}},{key:"renderDotItem",value:function(t,s){var c;if(A.isValidElement(t))c=A.cloneElement(t,s);else if(ve(t))c=t(s);else{var i=s.key,o=oe(s,Ue),d=ne("recharts-line-dot",typeof t!="boolean"?t.className:"");c=A.createElement(be,K({key:i},o,{className:d}))}return c}}])}(q.PureComponent);P(B,"displayName","Line");P(B,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pe.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});P(B,"getComposedData",function(r){var a=r.props,n=r.xAxis,t=r.yAxis,s=r.xAxisTicks,c=r.yAxisTicks,i=r.dataKey,o=r.bandSize,d=r.displayedData,h=r.offset,y=a.layout,x=d.map(function(m,g){var u=ue(m,i);return y==="horizontal"?{x:se({axis:n,ticks:s,bandSize:o,entry:m,index:g}),y:te(u)?null:t.scale(u),value:u,payload:m}:{x:te(u)?null:n.scale(u),y:se({axis:t,ticks:c,bandSize:o,entry:m,index:g}),value:u,payload:m}});return S({points:x,layout:y},h)});var de=Oe({chartName:"LineChart",GraphicalChild:B,axisComponents:[{axisType:"xAxis",AxisComp:U},{axisType:"yAxis",AxisComp:G}],formatAxisMap:Te});const lt=()=>{const r={totalRevenue:687500},[a,n]=q.useState(),[t,s]=q.useState([]),c=t&&t.length>0?t==null?void 0:t.reduce((l,f)=>l+parseFloat(f.amount||0),0):0;console.log(c);const i=new Date().toISOString().split("T")[0],o=t.filter(l=>l.created_at<i).reduce((l,f)=>l+parseFloat(f.amount),0),d=o?(c-o)/o*100:0,h=t.filter(l=>l.created_at<i),y=t&&t.length>0?c/t.length:0,x=t&&t.length>0?o/h.length:0,m=o?(y-x)/x*100:0,g=t&&t.length>0?t.filter(l=>l.status==="success").length:0;console.log(g);const u=h&&h.length>0?h.filter(l=>l.status==="success").length:0;console.log(u);const v=g/t.length%100,j=u/h.length%100,w=(v-j).toFixed(2);q.useEffect(()=>{async function l(){try{const p=await ye();console.log(p.data.data),n(p.data.data)}catch(p){console.error("Error fetching operators:",p)}}l();async function f(){try{const p=await ge();console.log(p.data.data),s(p.data.data)}catch(p){console.error("Error fetching operators:",p)}}f()},[]);const T=!t||t.length===0?[]:([...new Set(t.map(p=>p.created_at))].sort()??[]).map(p=>{var C;if(!t||!Array.isArray(t))return console.error("rechargeTransaction is undefined or not an array"),{date:p.split("T")[0],totalAmount:0,successRate:0,avgTicket:0};const k=p.split("T")[0],N=t.filter(_=>{var D;return((D=_.created_at)==null?void 0:D.split("T")[0])===k}),L=(N==null?void 0:N.reduce((_,D)=>_+parseFloat(D.amount||0),0))||0,R=((C=N==null?void 0:N.filter(_=>_.status==="success"))==null?void 0:C.length)||0,E=(N==null?void 0:N.length)||0,b=E>0?R/E*100:0,W=E>0?L/E:0;return{date:k,totalAmount:L,successRate:b,avgTicket:W}});return T.length===0?e.jsx("div",{className:"text-center p-8",children:"Waiting for transaction data..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Recharge Dashboard"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-md shadow-sm text-sm",children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsx("span",{children:"Last 30 Days"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-md shadow-sm text-sm",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{children:"Filter"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-md",children:e.jsx(Ke,{className:"h-6 w-6"})}),e.jsxs("span",{className:`text-sm font-medium px-2.5 py-0.5 rounded-full flex items-center ${String(d).includes("-")?"text-white bg-red-500":"text-white bg-green-500"}`,children:[String(d).includes("-")?e.jsx(ee,{className:"h-3 w-3 mr-1"}):e.jsx(V,{className:"h-3 w-3 mr-1"}),d.toFixed(2),"%"]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-500",children:"Total Recharges"}),e.jsxs("p",{className:"text-3xl font-bold",children:["₹",c.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["vs. till yesterday (₹",o," recharges)"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-md",children:e.jsx(Ie,{className:"h-6 w-6"})}),e.jsxs("span",{className:"text-sm font-medium text-green-600 bg-green-100 px-2.5 py-0.5 rounded-full flex items-center",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"5.2%"]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-500",children:"Total Revenue"}),e.jsxs("p",{className:"text-3xl font-bold",children:["₹",r.totalRevenue.toLocaleString()]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"vs. last period (₹652,300)"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-md",children:e.jsx(ie,{className:"h-6 w-6"})}),e.jsxs("span",{className:`text-sm font-medium px-2.5 py-0.5 rounded-full flex items-center ${String(m).includes("-")?"text-red-600 bg-red-100":"text-green-600 bg-green-100"}`,children:[String(m).includes("-")?e.jsx(ee,{className:"h-3 w-3 mr-1"}):e.jsx(V,{className:"h-3 w-3 mr-1"}),m.toFixed(2),"%"]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-500",children:"Avg Ticket Size"}),e.jsxs("p",{className:"text-3xl font-bold",children:["₹",y.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["vs. last period (₹",x.toFixed(2),")"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-yellow-100 text-yellow-600 rounded-md",children:e.jsx(Ve,{className:"h-6 w-6"})}),e.jsxs("span",{className:`text-sm font-medium px-2.5 py-0.5 rounded-full flex items-center ${String(w).includes("-")?"text-red-600 bg-red-100":"text-green-600 bg-green-100"}`,children:[String(w).includes("-")?e.jsx(ee,{className:"h-3 w-3 mr-1"}):e.jsx(V,{className:"h-3 w-3 mr-1"}),w,"%"]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-500",children:"Success Rate"}),e.jsxs("p",{className:"text-3xl font-bold",children:[v.toFixed(2),"%"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["vs. last period (",j.toFixed(2),"%)"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 border rounded-lg p-4 bg-white shadow",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recharge Amount Trend"}),e.jsx("div",{className:"h-64",children:e.jsx(X,{width:"100%",height:"100%",children:e.jsxs(de,{data:T,children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(U,{dataKey:"date"}),e.jsx(G,{}),e.jsx(J,{formatter:l=>`$${l.toFixed(2)}`}),e.jsx(Q,{}),e.jsx(B,{type:"monotone",dataKey:"totalAmount",stroke:"#0088FE",strokeWidth:2,name:"Total Recharge Amount",dot:{strokeWidth:2,r:4}})]})})})]}),e.jsxs("div",{className:"mb-8 border rounded-lg p-4 bg-white shadow",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Success Rate by Day"}),e.jsx("div",{className:"h-64",children:e.jsx(X,{width:"100%",height:"100%",children:e.jsxs(ie,{data:T,children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(U,{dataKey:"date"}),e.jsx(G,{domain:[0,100]}),e.jsx(J,{formatter:l=>`${l.toFixed(2)}%`}),e.jsx(Q,{}),e.jsx(Ee,{dataKey:"successRate",fill:"#00C49F",name:"Success Rate (%)"})]})})})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-white shadow",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Average Ticket Size"}),e.jsx("div",{className:"h-64",children:e.jsx(X,{width:"100%",height:"100%",children:e.jsxs(de,{data:T,children:[e.jsx(Z,{strokeDasharray:"3 3"}),e.jsx(U,{dataKey:"date"}),e.jsx(G,{}),e.jsx(J,{formatter:l=>`$${l.toFixed(2)}`}),e.jsx(Q,{}),e.jsx(B,{type:"monotone",dataKey:"avgTicket",stroke:"#FF8042",strokeWidth:2,name:"Average Ticket Size",dot:{strokeWidth:2,r:4}})]})})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Top Operators"}),e.jsxs("select",{className:"border border-gray-300 rounded-md text-sm p-2",children:[e.jsx("option",{value:"volume",children:"By Volume"}),e.jsx("option",{value:"revenue",selected:!0,children:"By Revenue"})]})]}),e.jsx("div",{className:"space-y-4",children:a&&a.map(l=>{const f=(t==null?void 0:t.filter(p=>String(p.operator)===String(l.operator_id)).reduce((p,k)=>p+Number(k.amount),0))||0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center text-red-600 mr-3",children:e.jsx("span",{className:"font-medium",children:l.operator_name.charAt(0).toUpperCase()})}),e.jsx("div",{children:e.jsx("p",{className:"font-medium",children:l.operator_name})})]}),e.jsxs("p",{className:"font-bold",children:["₹",f.toLocaleString()]})]},l.id||l.operator_id)})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Recent Transactions"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference  ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operator"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t&&[...t].sort((l,f)=>new Date(f.created_at)-new Date(l.created_at)).map(l=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.referenceid}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.canumber}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l.operator}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",l.amount]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${l.status==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["₹",l.status]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(l.created_at).toISOString().split("T")[0]})]}))})]})})]})]})};export{lt as default};
