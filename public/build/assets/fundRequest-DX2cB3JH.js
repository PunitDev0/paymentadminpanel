import{Y as ye,a as B,r as a,j as n,Q as S,Z as _e}from"./app-C8WGtTm3.js";import{u as M,S as k,c as V,T as J,a as X,b as y,d as R,e as q,f as g,B as H}from"./table-DpCZ5f5I.js";import"./clsx-B-dksMZM.js";ye();const Ee="http://127.0.0.1:8000";B.defaults.withCredentials=!0;const Fe=async(e,t)=>await B.put(`${Ee}/api/fund-requests/${e}/status`,{status:t}),Me=async e=>{const t=await B.get("/api/fund-requests");return console.log(t),t.data.fund_requests};function I(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function K(e,t=[]){let r=[];function s(u,l){const d=a.createContext(l),o=r.length;r=[...r,l];const c=f=>{var b;const{scope:p,children:h,...m}=f,x=((b=p==null?void 0:p[e])==null?void 0:b[o])||d,N=a.useMemo(()=>m,Object.values(m));return n.jsx(x.Provider,{value:N,children:h})};c.displayName=u+"Provider";function v(f,p){var x;const h=((x=p==null?void 0:p[e])==null?void 0:x[o])||d,m=a.useContext(h);if(m)return m;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${u}\``)}return[c,v]}const i=()=>{const u=r.map(l=>a.createContext(l));return function(d){const o=(d==null?void 0:d[e])||u;return a.useMemo(()=>({[`__scope${e}`]:{...d,[e]:o}}),[d,o])}};return i.scopeName=e,[s,Pe(i,...t)]}function Pe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const l=s.reduce((d,{useScope:o,scopeName:c})=>{const f=o(u)[`__scope${c}`];return{...d,...f}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function De(e){const t=e+"CollectionProvider",[r,s]=K(t),[i,u]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:m,children:x}=h,N=S.useRef(null),b=S.useRef(new Map).current;return n.jsx(i,{scope:m,itemMap:b,collectionRef:N,children:x})};l.displayName=t;const d=e+"CollectionSlot",o=S.forwardRef((h,m)=>{const{scope:x,children:N}=h,b=u(d,x),T=M(m,b.collectionRef);return n.jsx(k,{ref:T,children:N})});o.displayName=d;const c=e+"CollectionItemSlot",v="data-radix-collection-item",f=S.forwardRef((h,m)=>{const{scope:x,children:N,...b}=h,T=S.useRef(null),w=M(m,T),A=u(c,x);return S.useEffect(()=>(A.itemMap.set(T,{ref:T,...b}),()=>void A.itemMap.delete(T))),n.jsx(k,{[v]:"",ref:w,children:N})});f.displayName=c;function p(h){const m=u(e+"CollectionConsumer",h);return S.useCallback(()=>{const N=m.collectionRef.current;if(!N)return[];const b=Array.from(N.querySelectorAll(`[${v}]`));return Array.from(m.itemMap.values()).sort((A,E)=>b.indexOf(A.ref.current)-b.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:l,Slot:o,ItemSlot:f},p,s]}var L=globalThis!=null&&globalThis.document?a.useLayoutEffect:()=>{},Oe=_e.useId||(()=>{}),ke=0;function ee(e){const[t,r]=a.useState(Oe());return L(()=>{r(s=>s??String(ke++))},[e]),e||(t?`radix-${t}`:"")}var Le=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_=Le.reduce((e,t)=>{const r=a.forwardRef((s,i)=>{const{asChild:u,...l}=s,d=u?k:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function W(e){const t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function te({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,i]=Ue({defaultProp:t,onChange:r}),u=e!==void 0,l=u?e:s,d=W(r),o=a.useCallback(c=>{if(u){const f=typeof c=="function"?c(e):c;f!==e&&d(f)}else i(c)},[u,e,i,d]);return[l,o]}function Ue({defaultProp:e,onChange:t}){const r=a.useState(e),[s]=r,i=a.useRef(s),u=W(t);return a.useEffect(()=>{i.current!==s&&(u(s),i.current=s)},[s,i,u]),r}var Ge=a.createContext(void 0);function ne(e){const t=a.useContext(Ge);return e||t||"ltr"}var O="rovingFocusGroup.onEntryFocus",$e={bubbles:!1,cancelable:!0},P="RovingFocusGroup",[U,oe,Be]=De(P),[Ve,re]=K(P,[Be]),[Ke,We]=Ve(P),se=a.forwardRef((e,t)=>n.jsx(U.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(U.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(ze,{...e,ref:t})})}));se.displayName=P;var ze=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:i=!1,dir:u,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:o,onEntryFocus:c,preventScrollOnEntryFocus:v=!1,...f}=e,p=a.useRef(null),h=M(t,p),m=ne(u),[x=null,N]=te({prop:l,defaultProp:d,onChange:o}),[b,T]=a.useState(!1),w=W(c),A=oe(r),E=a.useRef(!1),[Ie,Q]=a.useState(0);return a.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(O,w),()=>j.removeEventListener(O,w)},[w]),n.jsx(Ke,{scope:r,orientation:s,dir:m,loop:i,currentTabStopId:x,onItemFocus:a.useCallback(j=>N(j),[N]),onItemShiftTab:a.useCallback(()=>T(!0),[]),onFocusableItemAdd:a.useCallback(()=>Q(j=>j+1),[]),onFocusableItemRemove:a.useCallback(()=>Q(j=>j-1),[]),children:n.jsx(_.div,{tabIndex:b||Ie===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{E.current=!0}),onFocus:I(e.onFocus,j=>{const Ce=!E.current;if(j.target===j.currentTarget&&Ce&&!b){const Z=new CustomEvent(O,$e);if(j.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const D=A().filter(C=>C.focusable),Se=D.find(C=>C.active),we=D.find(C=>C.id===x),Ae=[Se,we,...D].filter(Boolean).map(C=>C.ref.current);ce(Ae,v)}}E.current=!1}),onBlur:I(e.onBlur,()=>T(!1))})})}),ae="RovingFocusGroupItem",ie=a.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:i=!1,tabStopId:u,...l}=e,d=ee(),o=u||d,c=We(ae,r),v=c.currentTabStopId===o,f=oe(r),{onFocusableItemAdd:p,onFocusableItemRemove:h}=c;return a.useEffect(()=>{if(s)return p(),()=>h()},[s,p,h]),n.jsx(U.ItemSlot,{scope:r,id:o,focusable:s,active:i,children:n.jsx(_.span,{tabIndex:v?0:-1,"data-orientation":c.orientation,...l,ref:t,onMouseDown:I(e.onMouseDown,m=>{s?c.onItemFocus(o):m.preventDefault()}),onFocus:I(e.onFocus,()=>c.onItemFocus(o)),onKeyDown:I(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const x=Ze(m,c.orientation,c.dir);if(x!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=f().filter(T=>T.focusable).map(T=>T.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const T=b.indexOf(m.currentTarget);b=c.loop?Je(b,T+1):b.slice(T+1)}setTimeout(()=>ce(b))}})})})});ie.displayName=ae;var Ye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ze(e,t,r){const s=Qe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Ye[s]}function ce(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Je(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Xe=se,qe=ie;function He(e,t){return a.useReducer((r,s)=>t[r][s]??r,e)}var ue=e=>{const{present:t,children:r}=e,s=et(t),i=typeof r=="function"?r({present:s.isPresent}):a.Children.only(r),u=M(s.ref,tt(i));return typeof r=="function"||s.isPresent?a.cloneElement(i,{ref:u}):null};ue.displayName="Presence";function et(e){const[t,r]=a.useState(),s=a.useRef({}),i=a.useRef(e),u=a.useRef("none"),l=e?"mounted":"unmounted",[d,o]=He(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const c=F(s.current);u.current=d==="mounted"?c:"none"},[d]),L(()=>{const c=s.current,v=i.current;if(v!==e){const p=u.current,h=F(c);e?o("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?o("UNMOUNT"):o(v&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,o]),L(()=>{if(t){let c;const v=t.ownerDocument.defaultView??window,f=h=>{const x=F(s.current).includes(h.animationName);if(h.target===t&&x&&(o("ANIMATION_END"),!i.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",c=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},p=h=>{h.target===t&&(u.current=F(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{v.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else o("ANIMATION_END")},[t,o]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(c=>{c&&(s.current=getComputedStyle(c)),r(c)},[])}}function F(e){return(e==null?void 0:e.animationName)||"none"}function tt(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var z="Tabs",[nt,dt]=K(z,[re]),le=re(),[ot,Y]=nt(z),de=a.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:i,defaultValue:u,orientation:l="horizontal",dir:d,activationMode:o="automatic",...c}=e,v=ne(d),[f,p]=te({prop:s,onChange:i,defaultProp:u});return n.jsx(ot,{scope:r,baseId:ee(),value:f,onValueChange:p,orientation:l,dir:v,activationMode:o,children:n.jsx(_.div,{dir:v,"data-orientation":l,...c,ref:t})})});de.displayName=z;var fe="TabsList",me=a.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...i}=e,u=Y(fe,r),l=le(r);return n.jsx(Xe,{asChild:!0,...l,orientation:u.orientation,dir:u.dir,loop:s,children:n.jsx(_.div,{role:"tablist","aria-orientation":u.orientation,...i,ref:t})})});me.displayName=fe;var ve="TabsTrigger",pe=a.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:i=!1,...u}=e,l=Y(ve,r),d=le(r),o=be(l.baseId,s),c=ge(l.baseId,s),v=s===l.value;return n.jsx(qe,{asChild:!0,...d,focusable:!i,active:v,children:n.jsx(_.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":c,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:o,...u,ref:t,onMouseDown:I(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?l.onValueChange(s):f.preventDefault()}),onKeyDown:I(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(s)}),onFocus:I(e.onFocus,()=>{const f=l.activationMode!=="manual";!v&&!i&&f&&l.onValueChange(s)})})})});pe.displayName=ve;var he="TabsContent",xe=a.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:i,children:u,...l}=e,d=Y(he,r),o=be(d.baseId,s),c=ge(d.baseId,s),v=s===d.value,f=a.useRef(v);return a.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),n.jsx(ue,{present:i||v,children:({present:p})=>n.jsx(_.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":o,hidden:!p,id:c,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&u})})});xe.displayName=he;function be(e,t){return`${e}-trigger-${t}`}function ge(e,t){return`${e}-content-${t}`}var rt=de,Te=me,Ne=pe,Re=xe;const st=rt,je=a.forwardRef(({className:e,...t},r)=>n.jsx(Te,{ref:r,className:V("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));je.displayName=Te.displayName;const G=a.forwardRef(({className:e,...t},r)=>n.jsx(Ne,{ref:r,className:V("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));G.displayName=Ne.displayName;const $=a.forwardRef(({className:e,...t},r)=>n.jsx(Re,{ref:r,className:V("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$.displayName=Re.displayName;function at(){const[e,t]=a.useState([]),[r,s]=a.useState("inactive");a.useEffect(()=>{i()},[]);const i=async()=>{try{const o=await Me();t(Array.isArray(o)?o:[])}catch(o){console.error("Failed to fetch fund requests:",o),t([])}},u=async(o,c)=>{try{await Fe(o,c===0?1:0),i()}catch(v){console.error("Error switching status:",v)}},l=e.filter(o=>o.status===0),d=e.filter(o=>o.status===1);return n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:"Fund Request Dashboard"}),n.jsxs(st,{value:r,onValueChange:s,defaultValue:"inactive",className:"w-full",children:[n.jsxs(je,{className:"grid w-full grid-cols-2",children:[n.jsx(G,{value:"inactive",children:"Inactive Requests"}),n.jsx(G,{value:"active",children:"Active Requests"})]}),n.jsx($,{value:"inactive",children:n.jsxs(J,{children:[n.jsx(X,{children:n.jsxs(y,{children:[n.jsx(R,{children:"Transaction Type"}),n.jsx(R,{children:"Amount"}),n.jsx(R,{children:"Transaction ID"}),n.jsx(R,{children:"Deposited Date"}),n.jsx(R,{children:"Bank Account"}),n.jsx(R,{children:"Status"}),n.jsx(R,{children:"Image"}),n.jsx(R,{children:"Actions"})]})}),n.jsx(q,{children:l.length>0?l.map(o=>n.jsxs(y,{children:[n.jsx(g,{children:o.transaction_type}),n.jsx(g,{children:o.amount}),n.jsx(g,{children:o.transaction_id}),n.jsx(g,{children:o.deposited_date}),n.jsx(g,{children:o.bank?o.bank.bank:"N/A"}),n.jsx(g,{children:o.status===0?"Inactive":"Active"}),n.jsx(g,{children:o.image_path?n.jsx("a",{href:o.image_path,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View"}):"N/A"}),n.jsx(g,{children:n.jsx(H,{variant:"outline",size:"sm",onClick:()=>u(o.id,o.status),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Switch to Active"})})]},o.id)):n.jsx(y,{children:n.jsx(g,{colSpan:8,className:"text-center",children:"No inactive requests found"})})})]})}),n.jsx($,{value:"active",children:n.jsxs(J,{children:[n.jsx(X,{children:n.jsxs(y,{children:[n.jsx(R,{children:"Transaction Type"}),n.jsx(R,{children:"Amount"}),n.jsx(R,{children:"Transaction ID"}),n.jsx(R,{children:"Deposited Date"}),n.jsx(R,{children:"Bank Account"}),n.jsx(R,{children:"Status"}),n.jsx(R,{children:"Image"}),n.jsx(R,{children:"Actions"})]})}),n.jsx(q,{children:d.length>0?d.map(o=>n.jsxs(y,{children:[n.jsx(g,{children:o.transaction_type}),n.jsx(g,{children:o.amount}),n.jsx(g,{children:o.transaction_id}),n.jsx(g,{children:o.deposited_date}),n.jsx(g,{children:o.bank?o.bank.bank:"N/A"}),n.jsx(g,{children:o.status===0?"Inactive":"Active"}),n.jsx(g,{children:o.image_path?n.jsx("a",{href:o.image_path,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"View"}):"N/A"}),n.jsx(g,{children:n.jsx(H,{variant:"outline",size:"sm",onClick:()=>u(o.id,o.status),className:"bg-blue-500 text-white hover:bg-blue-600",children:"Switch to Inactive"})})]},o.id)):n.jsx(y,{children:n.jsx(g,{colSpan:8,className:"text-center",children:"No active requests found"})})})]})})]})]})}function ft(){return n.jsx("div",{children:n.jsx(at,{})})}export{ft as default};
