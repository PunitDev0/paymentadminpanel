import{r as d,j as e,a as N}from"./app-DhpGaDH6.js";import{c as i,T as v,a as w,b as h,d as n,e as y,f as c,B as b}from"./table-qaP2d9_w.js";import"./clsx-B-dksMZM.js";const j=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("rounded-xl border bg-card text-card-foreground shadow",r),...a}));j.displayName="Card";const f=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",r),...a}));f.displayName="CardHeader";const m=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("font-semibold leading-none tracking-tight",r),...a}));m.displayName="CardTitle";const I=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("text-sm text-muted-foreground",r),...a}));I.displayName="CardDescription";const u=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("p-6 pt-0",r),...a}));u.displayName="CardContent";const T=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("flex items-center p-6 pt-0",r),...a}));T.displayName="CardFooter";const S=({whitelistedIps:r})=>{const[a,t]=d.useState([]),[p,x]=d.useState(!0);d.useEffect(()=>{g()},[]);const g=async()=>{try{t(r),x(!1)}catch(s){console.error("Error fetching IPs:",s),x(!1)}},C=async s=>{try{const o=await N.patch(`/admin/whitelisted-ips/${s}/toggle-status`);t(a.map(l=>l.id===s?{...l,status:o.data.status}:l))}catch(o){console.error("Error toggling status:",o)}};return p?e.jsx("div",{className:"p-4",children:"Loading..."}):e.jsx("div",{className:"container mx-auto p-4",children:e.jsxs(j,{children:[e.jsx(f,{children:e.jsx(m,{children:"Whitelisted IPs Management"})}),e.jsx(u,{children:e.jsxs(v,{children:[e.jsx(w,{children:e.jsxs(h,{children:[e.jsx(n,{children:"ID"}),e.jsx(n,{children:"IP Address"}),e.jsx(n,{children:"User ID"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Created At"}),e.jsx(n,{children:"Updated At"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(y,{children:a.map(s=>e.jsxs(h,{children:[e.jsx(c,{children:s.id}),e.jsx(c,{children:s.ip_address}),e.jsx(c,{children:s.user_id||"N/A"}),e.jsx(c,{children:s.status?"Active":"Inactive"}),e.jsx(c,{children:new Date(s.created_at).toLocaleString()}),e.jsx(c,{children:new Date(s.updated_at).toLocaleString()}),e.jsx(c,{children:e.jsx(b,{onClick:()=>C(s.id),variant:s.status?"destructive":"default",children:s.status?"Deactivate":"Activate"})})]},s.id))})]})})]})})};export{S as default};
