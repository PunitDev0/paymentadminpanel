import{r as c,j as e,i as g}from"./app-DE-wH-X1.js";import{B as f}from"./button-C6ACBVtC.js";import{C as p,a as C,b as I,c as b}from"./card-CYliUdp8.js";import{T as v,a as T,b as h,c as t,d as A,e as a}from"./table-Bzk4kHtu.js";import"./index-DjB1QeRK.js";import"./clsx-B-dksMZM.js";import"./utils-CiMRq3MP.js";const B=({whitelistedIps:x})=>{const[n,i]=c.useState([]),[j,l]=c.useState(!0);c.useEffect(()=>{u()},[]);const u=async()=>{try{i(x),l(!1)}catch(s){console.error("Error fetching IPs:",s),l(!1)}},m=async s=>{try{const r=await g(s);i(n.map(d=>{var o;return d.id===s?{...d,status:(o=r==null?void 0:r.data)==null?void 0:o.status}:d}))}catch(r){console.error("Error toggling status:",r)}};return j?e.jsx("div",{className:"p-4",children:"Loading..."}):e.jsx("div",{className:"container mx-auto p-4",children:e.jsxs(p,{children:[e.jsx(C,{children:e.jsx(I,{children:"Whitelisted IPs Management"})}),e.jsx(b,{children:e.jsxs(v,{children:[e.jsx(T,{children:e.jsxs(h,{children:[e.jsx(t,{children:"ID"}),e.jsx(t,{children:"IP Address"}),e.jsx(t,{children:"User ID"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Created At"}),e.jsx(t,{children:"Updated At"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(A,{children:n.map(s=>e.jsxs(h,{children:[e.jsx(a,{children:s.id}),e.jsx(a,{children:s.ip_address}),e.jsx(a,{children:s.user_id||"N/A"}),e.jsx(a,{children:s.status?"Active":"Inactive"}),e.jsx(a,{children:new Date(s.created_at).toLocaleString()}),e.jsx(a,{children:new Date(s.updated_at).toLocaleString()}),e.jsx(a,{children:e.jsx(f,{onClick:()=>m(s.id),variant:s.status?"destructive":"default",children:s.status?"Deactivate":"Activate"})})]},s.id))})]})})]})})};export{B as default};
