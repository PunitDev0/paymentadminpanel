import{r as d,j as e,w as v}from"./app-CwTA4m8q.js";import{c as i,T as w,a as y,b as j,d as c,e as b,f as n,B as I}from"./table-Bo_OKVDw.js";import"./clsx-B-dksMZM.js";const f=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("rounded-xl border bg-card text-card-foreground shadow",r),...a}));f.displayName="Card";const m=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",r),...a}));m.displayName="CardHeader";const u=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("font-semibold leading-none tracking-tight",r),...a}));u.displayName="CardTitle";const T=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("text-sm text-muted-foreground",r),...a}));T.displayName="CardDescription";const g=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("p-6 pt-0",r),...a}));g.displayName="CardContent";const R=d.forwardRef(({className:r,...a},t)=>e.jsx("div",{ref:t,className:i("flex items-center p-6 pt-0",r),...a}));R.displayName="CardFooter";const E=({whitelistedIps:r})=>{const[a,t]=d.useState([]),[p,x]=d.useState(!0);d.useEffect(()=>{C()},[]);const C=async()=>{try{t(r),x(!1)}catch(s){console.error("Error fetching IPs:",s),x(!1)}},N=async s=>{try{const l=await v(s);t(a.map(o=>{var h;return o.id===s?{...o,status:(h=l==null?void 0:l.data)==null?void 0:h.status}:o}))}catch(l){console.error("Error toggling status:",l)}};return p?e.jsx("div",{className:"p-4",children:"Loading..."}):e.jsx("div",{className:"container mx-auto p-4",children:e.jsxs(f,{children:[e.jsx(m,{children:e.jsx(u,{children:"Whitelisted IPs Management"})}),e.jsx(g,{children:e.jsxs(w,{children:[e.jsx(y,{children:e.jsxs(j,{children:[e.jsx(c,{children:"ID"}),e.jsx(c,{children:"IP Address"}),e.jsx(c,{children:"User ID"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Created At"}),e.jsx(c,{children:"Updated At"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(b,{children:a.map(s=>e.jsxs(j,{children:[e.jsx(n,{children:s.id}),e.jsx(n,{children:s.ip_address}),e.jsx(n,{children:s.user_id||"N/A"}),e.jsx(n,{children:s.status?"Active":"Inactive"}),e.jsx(n,{children:new Date(s.created_at).toLocaleString()}),e.jsx(n,{children:new Date(s.updated_at).toLocaleString()}),e.jsx(n,{children:e.jsx(I,{onClick:()=>N(s.id),variant:s.status?"destructive":"default",children:s.status?"Deactivate":"Activate"})})]},s.id))})]})})]})})};export{E as default};
